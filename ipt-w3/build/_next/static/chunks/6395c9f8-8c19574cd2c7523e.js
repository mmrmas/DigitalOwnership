"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{4462:function(e,t,r){r.d(t,{A:function(){return ty},B:function(){return K},C:function(){return em},D:function(){return eh},E:function(){return ey},F:function(){return j},G:function(){return S},H:function(){return x},I:function(){return eW},J:function(){return W},K:function(){return q},L:function(){return H},M:function(){return z},N:function(){return P},O:function(){return M},P:function(){return $},Q:function(){return V},R:function(){return Y},S:function(){return w},T:function(){return C},U:function(){return Q},V:function(){return e4},W:function(){return tk},X:function(){return Z},_:function(){return ed},a:function(){return eg},b:function(){return eE},c:function(){return tm},d:function(){return function e(t){return function(t){if(function e(t){if(null==t||eS[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return eC.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(t))return t;if(Array.isArray(t))return Object.freeze(t.map(t=>e(t)));if("object"==typeof t){let r={};for(let n in t){let i=t[n];void 0!==i&&Object.defineProperty(r,n,{enumerable:!0,value:e(i),writable:!1})}return r}return eC.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(t)}},e:function(){return tT},f:function(){return ew},g:function(){return ev},h:function(){return tv},i:function(){return tA},j:function(){return F},k:function(){return tE},l:function(){return e2},m:function(){return tR},n:function(){return eA},o:function(){return tP},p:function(){return tC},q:function(){return eF},r:function(){return b},s:function(){return eJ},t:function(){return eM},u:function(){return L},v:function(){return tN},w:function(){return D},x:function(){return B},y:function(){return U},z:function(){return G}});var n,i,o,s,a,l,d,c,u,f,h,g,v,E,y,m,A,T,N,p,_,O,I,R,k,P,C,b,S,w,M,F,L,D,B,U,G,K,j,x,W,q,H,z,$,V,Y,Q,Z,X,J,ee,et,er=r(5168),en=r(5215),ei=r(6203),eo=r(1892),es=r(9861),ea=r(1709),el=r(6148);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ed(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}function ec(e){return this instanceof ec?(this.v=e,this):new ec(e)}function eu(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof ec?Promise.resolve(r.value.v).then(l,d):c(o[0][2],r)}catch(e){c(o[0][3],e)}}function l(e){a("next",e)}function d(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function ef(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}(n=P||(P={})).ETH_MAINNET="eth-mainnet",n.ETH_GOERLI="eth-goerli",n.ETH_SEPOLIA="eth-sepolia",n.OPT_MAINNET="opt-mainnet",n.OPT_GOERLI="opt-goerli",n.OPT_SEPOLIA="opt-sepolia",n.ARB_MAINNET="arb-mainnet",n.ARB_GOERLI="arb-goerli",n.ARB_SEPOLIA="arb-sepolia",n.MATIC_MAINNET="polygon-mainnet",n.MATIC_MUMBAI="polygon-mumbai",n.MATIC_AMOY="polygon-amoy",n.ASTAR_MAINNET="astar-mainnet",n.POLYGONZKEVM_MAINNET="polygonzkevm-mainnet",n.POLYGONZKEVM_TESTNET="polygonzkevm-testnet",n.BASE_MAINNET="base-mainnet",n.BASE_GOERLI="base-goerli",n.BASE_SEPOLIA="base-sepolia",n.ZKSYNC_MAINNET="zksync-mainnet",n.ZKSYNC_SEPOLIA="zksync-sepolia",(i=C||(C={})).DEFAULT_TOKENS="DEFAULT_TOKENS",i.ERC20="erc20",(o=b||(b={})).EXTERNAL="external",o.INTERNAL="internal",o.ERC20="erc20",o.ERC721="erc721",o.ERC1155="erc1155",o.SPECIALNFT="specialnft",(s=S||(S={})).TO="TO",s.FROM="FROM",(a=w||(w={})).ASCENDING="asc",a.DESCENDING="desc",(l=M||(M={})).VERIFIED="verified",l.APPROVED="approved",l.REQUESTED="requested",l.NOT_REQUESTED="not_requested",(d=F||(F={})).PENDING_TRANSACTIONS="alchemy_pendingTransactions",d.MINED_TRANSACTIONS="alchemy_minedTransactions",(c=L||(L={})).NATIVE="NATIVE",c.ERC20="ERC20",c.ERC721="ERC721",c.ERC1155="ERC1155",c.SPECIAL_NFT="SPECIAL_NFT",(u=D||(D={})).APPROVE="APPROVE",u.TRANSFER="TRANSFER",(B||(B={})).ETHERSCAN="ETHERSCAN",(f=U||(U={})).CREATE="CREATE",f.CALL="CALL",f.STATICCALL="STATICCALL",f.DELEGATECALL="DELEGATECALL",(h=G||(G={})).UNSPECIFIED="TRANSACTION_JOB_STATUS_UNSPECIFIED",h.IN_PROGRESS="IN_PROGRESS",h.COMPLETE="COMPLETE",h.ABANDONED="ABANDONED",(g=K||(K={})).V1="V1",g.V2="V2",(v=j||(j={})).MINED_TRANSACTION="MINED_TRANSACTION",v.DROPPED_TRANSACTION="DROPPED_TRANSACTION",v.ADDRESS_ACTIVITY="ADDRESS_ACTIVITY",v.NFT_ACTIVITY="NFT_ACTIVITY",v.NFT_METADATA_UPDATE="NFT_METADATA_UPDATE",v.GRAPHQL="GRAPHQL",(E=x||(x={})).PENDING="pending",E.LATEST="latest",E.SAFE="safe",E.FINALIZED="finalized",E.EARLIEST="earliest",(y=W||(W={})).CALL_TRACER="callTracer",y.PRESTATE_TRACER="prestateTracer",(m=q||(q={})).ERC721="ERC721",m.ERC1155="ERC1155",m.NO_SUPPORTED_NFT_STANDARD="NO_SUPPORTED_NFT_STANDARD",m.NOT_A_CONTRACT="NOT_A_CONTRACT",m.UNKNOWN="UNKNOWN",(A=H||(H={})).Erc721TooManyOwners="Erc721TooManyOwners",A.Erc721TooManyTokens="Erc721TooManyTokens",A.Erc721DishonestTotalSupply="Erc721DishonestTotalSupply",A.MostlyHoneyPotOwners="MostlyHoneyPotOwners",A.OwnedByMostHoneyPots="OwnedByMostHoneyPots",A.LowDistinctOwnersPercent="LowDistinctOwnersPercent",A.HighHoneyPotOwnerPercent="HighHoneyPotOwnerPercent",A.HighHoneyPotPercent="HighHoneyPotPercent",A.HoneyPotsOwnMultipleTokens="HoneyPotsOwnMultipleTokens",A.NoSalesActivity="NoSalesActivity",A.HighAirdropPercent="HighAirdropPercent",A.Unknown="Unknown",(T=z||(z={})).SPAM="SPAM",T.AIRDROPS="AIRDROPS",($||($={})).TRANSFERTIME="TRANSFERTIME",(N=V||(V={})).SEAPORT="seaport",N.LOOKSRARE="looksrare",N.X2Y2="x2y2",N.WYVERN="wyvern",N.CRYPTOPUNKS="cryptopunks",N.BLUR="blur",N.UNKNOWN="unknown",(p=Y||(Y={})).BUYER="buyer",p.SELLER="seller",(_=Q||(Q={})).DOES_NOT_EXIST="does_not_exist",_.ALREADY_QUEUED="already_queued",_.IN_PROGRESS="in_progress",_.FINISHED="finished",_.QUEUED="queued",_.QUEUE_FAILED="queue_failed",(Z||(Z={})).OPENSEA="OpenSea";let eh="demo",eg=P.ETH_MAINNET;function ev(e,t){return`https://${e}.g.alchemy.com/v2/${t}`}function eE(e,t){return`wss://${e}.g.alchemy.com/v2/${t}`}(O=X||(X={}))[O.BASE=0]="BASE",O[O.NFT=1]="NFT",O[O.WEBHOOK=2]="WEBHOOK";let ey={[P.ETH_MAINNET]:"mainnet",[P.ETH_GOERLI]:"goerli",[P.ETH_SEPOLIA]:"sepolia",[P.OPT_MAINNET]:"optimism",[P.OPT_GOERLI]:"optimism-goerli",[P.OPT_SEPOLIA]:"optimism-sepolia",[P.ARB_MAINNET]:"arbitrum",[P.ARB_GOERLI]:"arbitrum-goerli",[P.ARB_SEPOLIA]:"arbitrum-sepolia",[P.MATIC_MAINNET]:"matic",[P.MATIC_MUMBAI]:"maticmum",[P.MATIC_AMOY]:"maticamoy",[P.ASTAR_MAINNET]:"astar-mainnet",[P.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[P.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet",[P.BASE_MAINNET]:"base-mainnet",[P.BASE_GOERLI]:"base-goerli",[P.BASE_SEPOLIA]:"base-sepolia",[P.ZKSYNC_MAINNET]:"zksync-mainnet",[P.ZKSYNC_SEPOLIA]:"zksync-sepolia"},em={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"},"base-mainnet":{chainId:8453,name:"base-mainnet"},"base-goerli":{chainId:84531,name:"base-goerli"},"base-sepolia":{chainId:84532,name:"base-sepolia"},maticamoy:{chainId:80002,name:"maticamoy"},"zksync-mainnet":{chainId:324,name:"zksync-mainnet"},"zksync-sepolia":{chainId:300,name:"zksync-sepolia"}};function eA(){}class eT{constructor(e){this.apiKey=(null==e?void 0:e.apiKey)||eh,this.network=(null==e?void 0:e.network)||eg,this.maxRetries=(null==e?void 0:e.maxRetries)||5,this.url=null==e?void 0:e.url,this.authToken=null==e?void 0:e.authToken,this.batchRequests=(null==e?void 0:e.batchRequests)||!1,this.requestTimeout=(null==e?void 0:e.requestTimeout)||0,this.connectionInfoOverrides=null==e?void 0:e.connectionInfoOverrides}_getRequestUrl(e){if(void 0!==this.url)return this.url;if(e===X.NFT){var t,r;return t=this.network,r=this.apiKey,`https://${t}.g.alchemy.com/nft/v3/${r}`}return e===X.WEBHOOK?"https://dashboard.alchemy.com/api":ev(this.network,this.apiKey)}getProvider(){return this._baseAlchemyProvider||(this._baseAlchemyProvider=ed(this,void 0,void 0,function*(){let{AlchemyProvider:e}=yield r.e(85).then(r.bind(r,5192));return new e(this)})),this._baseAlchemyProvider}getWebSocketProvider(){return this._baseAlchemyWssProvider||(this._baseAlchemyWssProvider=ed(this,void 0,void 0,function*(){let{AlchemyWebSocketProvider:e}=yield Promise.all([r.e(85),r.e(673)]).then(r.bind(r,9673));return new e(this)})),this._baseAlchemyWssProvider}}let eN=!1,ep=!1,e_={debug:1,default:2,info:2,warning:3,error:4,off:5},eO=2,eI=null,eR=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(I=J||(J={})).DEBUG="DEBUG",I.INFO="INFO",I.WARNING="WARNING",I.ERROR="ERROR",I.OFF="OFF",(R=ee||(ee={})).UNKNOWN_ERROR="UNKNOWN_ERROR",R.NOT_IMPLEMENTED="NOT_IMPLEMENTED",R.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",R.NETWORK_ERROR="NETWORK_ERROR",R.SERVER_ERROR="SERVER_ERROR",R.TIMEOUT="TIMEOUT",R.BUFFER_OVERRUN="BUFFER_OVERRUN",R.NUMERIC_FAULT="NUMERIC_FAULT",R.MISSING_NEW="MISSING_NEW",R.INVALID_ARGUMENT="INVALID_ARGUMENT",R.MISSING_ARGUMENT="MISSING_ARGUMENT",R.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",R.CALL_EXCEPTION="CALL_EXCEPTION",R.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",R.NONCE_EXPIRED="NONCE_EXPIRED",R.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",R.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",R.TRANSACTION_REPLACED="TRANSACTION_REPLACED",R.ACTION_REJECTED="ACTION_REJECTED";let ek="0123456789abcdef";class eP{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==e_[r]&&this.throwArgumentError("invalid log level name","logLevel",e),eO>e_[r]||console.log.apply(console,t)}debug(...e){this._log(eP.levels.DEBUG,e)}info(...e){this._log(eP.levels.INFO,e)}warn(...e){this._log(eP.levels.WARNING,e)}makeError(e,t,r){if(ep)return this.makeError("censored error",t,{});t||(t=eP.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=ek[t[e]>>4]+ek[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let i=e,o="";switch(t){case ee.NUMERIC_FAULT:{o="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case ee.CALL_EXCEPTION:case ee.INSUFFICIENT_FUNDS:case ee.MISSING_NEW:case ee.NONCE_EXPIRED:case ee.REPLACEMENT_UNDERPRICED:case ee.TRANSACTION_REPLACED:case ee.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let s=Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach(function(e){s[e]=r[e]}),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,eP.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){eR&&this.throwError("platform missing String.prototype.normalize",eP.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:eR})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,eP.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,eP.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,eP.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,eP.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",eP.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",eP.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",eP.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return eI||(eI=new eP("logger/5.7.0")),eI}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",eP.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),eN){if(!e)return;this.globalLogger().throwError("error censorship permanent",eP.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ep=!!e,eN=!!t}static setLogLevel(e){let t=e_[e.toLowerCase()];if(null==t){eP.globalLogger().warn("invalid log level - "+e);return}eO=t}static from(e){return new eP(e)}}eP.errors=ee,eP.levels=J;let eC=new eP("properties/5.7.0");function eb(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>{let r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))}),r=yield Promise.all(t);return r.reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,a)}l((i=i.apply(t,r||[])).next())})}let eS={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function ew(e){return ei.O$.from(e).toNumber()}function eM(e){return ei.O$.from(e).toHexString()}function eF(e){return/^0x[0-9a-fA-F]+$/.test(e)}function eL(e){return"string"==typeof e?e:Number.isInteger(e)?eM(e):e.toString()}function eD(e,t){return Object.values(t).includes(e)?e:null}function eB(e){return eq(Object.assign(Object.assign({},eU(e)),{displayNft:e.displayNft,image:e.image,totalBalance:e.totalBalance,numDistinctTokensOwned:e.numDistinctTokensOwned,isSpam:e.isSpam}))}function eU(e){var t;return eq(Object.assign(Object.assign({},e),{tokenType:ex(e.tokenType),openSeaMetadata:Object.assign(Object.assign({},e.openSeaMetadata),{safelistRequestStatus:(null===(t=e.openSeaMetadata)||void 0===t?void 0:t.safelistRequestStatus)!==null?eD(e.openSeaMetadata.safelistRequestStatus,M):null})}))}function eG(e,t){return{contractAddress:t||e.contractAddress,tokenId:e.tokenId}}function eK(e){var t;return eq(Object.assign(Object.assign({},e),{contract:eq(Object.assign(Object.assign({},eU(t=e.contract)),{spamClassifications:t.spamClassifications.map(ej)})),tokenType:ex(e.tokenType),acquiredAt:e.acquiredAt,collection:e.collection,mint:e.mint}))}function ej(e){let t=eD(e,H);return null==t?H.Unknown:t}function ex(e){switch(e){case"erc721":case"ERC721":return q.ERC721;case"erc1155":case"ERC1155":return q.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return q.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return q.NOT_A_CONTRACT;default:return q.UNKNOWN}}let eW="undefined"!=typeof window&&null!==window;function eq(e){if(null!=e){if("Object"===e.constructor.name||Array.isArray(e))for(let t in e)e[t]=eq(e[t]);return e}}function eH(e,t,r="getAssetTransfers"){return ed(this,void 0,void 0,function*(){let n=yield e.getProvider();return t.fromAddress&&(t.fromAddress=yield n._getAddress(t.fromAddress)),t.toAddress&&(t.toAddress=yield n._getAddress(t.toAddress)),n._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},t),{fromBlock:null!=t.fromBlock?eL(t.fromBlock):void 0,toBlock:null!=t.toBlock?eL(t.toBlock):void 0,maxCount:null!=t.maxCount?eM(t.maxCount):void 0})],r)})}function ez(e,t,r="getTransactionReceipts"){return ed(this,void 0,void 0,function*(){let n=yield e.getProvider();return n._send("alchemy_getTransactionReceipts",[t],r)})}class e${constructor(e){this.config=e}getBalance(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r.getBalance(e,t)})}isContractAddress(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider(),r=yield t.getCode(e);return"0x"!==r})}getCode(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r.getCode(e,t)})}getStorageAt(e,t,r){return ed(this,void 0,void 0,function*(){let n=yield this.config.getProvider();return n.getStorageAt(e,t,r)})}getTransactionCount(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r.getTransactionCount(e,t)})}getBlock(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.getBlock(e)})}getBlockWithTransactions(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.getBlockWithTransactions(e)})}getNetwork(){return ed(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return e.getNetwork()})}getBlockNumber(){return ed(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return e.getBlockNumber()})}getGasPrice(){return ed(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return e.getGasPrice()})}getFeeData(){return ed(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return e.getFeeData()})}ready(){return ed(this,void 0,void 0,function*(){let e=yield this.config.getProvider();return e.ready})}call(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r.call(e,t)})}estimateGas(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.estimateGas(e)})}getTransaction(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.getTransaction(e)})}getTransactionReceipt(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.getTransactionReceipt(e)})}sendTransaction(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.sendTransaction(e)})}waitForTransaction(e,t,r){return ed(this,void 0,void 0,function*(){let n=yield this.config.getProvider();return n.waitForTransaction(e,t,r)})}getLogs(e){return ed(this,void 0,void 0,function*(){return function(e,t){return ed(this,void 0,void 0,function*(){var r;let n=yield e.getProvider();yield n.getNetwork();let i=yield eb({filter:function(e,t){return ed(this,void 0,void 0,function*(){let r=yield e.getProvider(),n=yield t,i={};return["blockHash","topics"].forEach(e=>{null!=n[e]&&(i[e]=n[e])}),["fromBlock","toBlock"].forEach(e=>{null!=n[e]&&(i[e]=r._getBlockTag(n[e]))}),i=r.formatter.filter((yield eb(i))),Array.isArray(n.address)?i.address=yield Promise.all(n.address.map(e=>ed(this,void 0,void 0,function*(){return r._getAddress(e)}))):null!=n.address&&(i.address=yield r._getAddress(n.address)),i})}(e,t)}),o=yield n.send("eth_getLogs",[i.filter]);return o.forEach(e=>{null==e.removed&&(e.removed=!1)}),(r=n.formatter.filterLog.bind(n.formatter),function(e){if(!Array.isArray(e))throw Error("not an array");let t=[];return e.forEach(e=>{t.push(r(e))}),t})(o)})}(this.config,e)})}send(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r.send(e,t)})}findContractDeployer(e){var t;return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=yield r.getBlockNumber();if((yield r.getCode(e,n))==="0x")throw Error(`Contract '${e}' does not exist`);let i=yield function e(t,r,n,i){return ed(this,void 0,void 0,function*(){if(t>=r)return r;let o=Math.floor((t+r)/2),s=yield i.getProvider(),a=yield s.getCode(n,o);return"0x"===a?e(o+1,r,n,i):e(t,o,n,i)})}(0,n+1,e,this.config),o=yield ez(this.config,{blockNumber:eM(i)},"findContractDeployer"),s=null===(t=o.receipts)||void 0===t?void 0:t.find(t=>t.contractAddress===e.toLowerCase());return{deployerAddress:null==s?void 0:s.from,blockNumber:i}})}getTokenBalances(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=yield r._getAddress(e);if(Array.isArray(t)){if(t.length>1500)throw Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()");if(0===t.length)throw Error("getTokenBalances() requires at least one contractAddress when using an array");return r._send("alchemy_getTokenBalances",[n,t],"getTokenBalances")}{let e=void 0===t?C.ERC20:t.type,i=[n,e];return(null==t?void 0:t.type)===C.ERC20&&t.pageKey&&i.push({pageKey:t.pageKey}),r._send("alchemy_getTokenBalances",i,"getTokenBalances")}})}getTokensForOwner(e,t){var r;return ed(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),i=yield n._getAddress(e),o=[i,null!==(r=null==t?void 0:t.contractAddresses)&&void 0!==r?r:C.ERC20];(null==t?void 0:t.pageKey)&&o.push({pageKey:t.pageKey});let s=yield n._send("alchemy_getTokenBalances",o,"getTokensForOwner"),a=s.tokenBalances.map(e=>({contractAddress:e.contractAddress,rawBalance:ei.O$.from(e.tokenBalance).toString()})),l=yield Promise.allSettled(s.tokenBalances.map(e=>n._send("alchemy_getTokenMetadata",[e.contractAddress],"getTokensForOwner",!0))),d=l.map(e=>"fulfilled"===e.status?e.value:{name:null,symbol:null,decimals:null,logo:null}),c=a.map((e,t)=>Object.assign(Object.assign(Object.assign({},e),d[t]),{balance:null!==d[t].decimals?(0,er.bM)(e.rawBalance,d[t].decimals):void 0}));return{tokens:c.map(e=>eq(e)),pageKey:s.pageKey}})}getTokenMetadata(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return ed(this,void 0,void 0,function*(){return eH(this.config,e)})}getTransactionReceipts(e){return ed(this,void 0,void 0,function*(){return ez(this.config,e)})}resolveName(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.resolveName(e)})}lookupAddress(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.lookupAddress(e)})}}class eV{constructor(e){this.config=e}traceCall(e,t,r){return ed(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),i=[e,t,eY(r)];return n._send("debug_traceCall",i,"traceCall")})}traceTransaction(e,t,r){return ed(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),i=[e,eY(t,r)];return n._send("debug_traceTransaction",i,"traceTransaction")})}traceBlock(e,t){return ed(this,void 0,void 0,function*(){let r,n;let i=yield this.config.getProvider();if((0,en.A7)(e,32))r="debug_traceBlockByHash",n=[e,eY(t)];else{r="debug_traceBlockByNumber";let i="number"==typeof e?(0,en.Ou)((0,en.$P)(e)):e;n=[i,eY(t)]}return i._send(r,n,"traceBlock")})}}function eY(e,t){return Object.assign({tracer:e.type},void 0!==e.onlyTopCall&&{tracerConfig:{onlyTopCall:e.onlyTopCall,timeout:t}})}(k=et||(et={}))[k.DEBUG=0]="DEBUG",k[k.INFO=1]="INFO",k[k.WARN=2]="WARN",k[k.ERROR=3]="ERROR",k[k.SILENT=4]="SILENT";let eQ={debug:et.DEBUG,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},eZ={[et.DEBUG]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},eX=et.INFO;function eJ(e){e3.logLevel=eQ[e]}function e0(e,...t){e3.debug(e,t)}function e1(e,...t){e3.info(e,t)}function e2(e,...t){e3.warn(e,t)}class e5{constructor(){this._logLevel=eX}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}debug(...e){this._log(et.DEBUG,...e)}info(...e){this._log(et.INFO,...e)}warn(...e){this._log(et.WARN,...e)}error(...e){this._log(et.ERROR,...e)}_log(e,...t){if(e<this._logLevel)return;let r=new Date().toISOString(),n=eZ[e];if(n)console[n](`[${r}] Alchemy:`,...t.map(e7));else throw Error(`Logger received an invalid logLevel (value: ${e})`)}}function e7(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}let e3=new e5,e4="3.3.1";class e9{constructor(e=5){this.maxAttempts=e,this.initialDelayMs=1e3,this.backoffMultiplier=1.5,this.maxDelayMs=3e4,this.numAttempts=0,this.currentDelayMs=0,this.isInBackoff=!1}backoff(){if(this.numAttempts>=this.maxAttempts)return Promise.reject(Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`));if(this.isInBackoff)return Promise.reject(Error("A backoff operation is already in progress"));let e=this.withJitterMs(this.currentDelayMs);return e>0&&e0("ExponentialBackoff.backoff",`Backing off for ${e}ms`),this.currentDelayMs*=this.backoffMultiplier,this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs),this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs),this.numAttempts+=1,new Promise(t=>{this.isInBackoff=!0,setTimeout(()=>{this.isInBackoff=!1,t()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function e8(e,t,r,n,i,o){return ed(this,void 0,void 0,function*(){let s;let a=new e9(e.maxRetries);for(let l=0;l<e.maxRetries+1;l++)try{void 0!==s&&e1("requestHttp",`Retrying after error: ${s.message}`);try{yield a.backoff()}catch(e){break}let l=yield function(e,t,r,n,i){var o;let s=Object.assign(Object.assign({},i),{headers:Object.assign(Object.assign(Object.assign({},null==i?void 0:i.headers),!eW&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":e4,"Alchemy-Ethers-Sdk-Method":r}),method:null!==(o=null==i?void 0:i.method)&&void 0!==o?o:"GET",url:e+"/"+t,params:n});return(0,eo.Z)(s)}(e._getRequestUrl(t),r,n,i,Object.assign(Object.assign({},o),{timeout:e.requestTimeout}));if(200===l.status)return e0(r,`Successful request: ${r}`),l.data;e1(r,`Request failed: ${r}, ${l.status}, ${l.data}`),s=Error(l.status+": "+l.data)}catch(e){if(!eo.Z.isAxiosError(e)||void 0===e.response)throw e;if(s=Error(e.response.status+": "+JSON.stringify(e.response.data)),!function(e,t){let r=t===X.WEBHOOK?[429,500]:[429];return void 0!==e.response&&r.includes(e.response.status)}(e,t))break}return Promise.reject(s)})}function e6(e,t,r,n,i,o,s){return eu(this,arguments,function*(){let a=!0,l=Object.assign({},s);for(;a;){let s=yield ec(e8(e,t,r,n,l));yield yield ec(s),null!==s[o]?l[i]=s[o]:a=!1}})}function te(e,t,r,n,i="getNftMetadata"){return ed(this,void 0,void 0,function*(){let o=yield e8(e,X.NFT,"getNFTMetadata",i,{contractAddress:t,tokenId:ei.O$.from(r).toString(),tokenType:function(e){if(e===q.ERC1155||e===q.ERC721)return e}(null==n?void 0:n.tokenType),tokenUriTimeoutInMs:null==n?void 0:n.tokenUriTimeoutInMs,refreshCache:null==n?void 0:n.refreshCache});return eK(o)})}function tt(e,t,r){return ed(this,void 0,void 0,function*(){let n={tokens:t,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs,refreshCache:null==r?void 0:r.refreshCache},i=yield e8(e,X.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:n});return{nfts:i.nfts.map(e=>eK(e))}})}function tr(e,t,r,n="getNftsForOwner"){return ed(this,void 0,void 0,function*(){let i=ts(null==r?void 0:r.omitMetadata),o=yield e8(e,X.NFT,"getNFTsForOwner",n,{contractAddresses:null==r?void 0:r.contractAddresses,pageKey:null==r?void 0:r.pageKey,excludeFilters:null==r?void 0:r.excludeFilters,includeFilters:null==r?void 0:r.includeFilters,owner:t,pageSize:null==r?void 0:r.pageSize,withMetadata:i,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs,orderBy:null==r?void 0:r.orderBy});return i?eq({ownedNfts:o.ownedNfts.map(e=>Object.assign(Object.assign({},eK(e)),{balance:e.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt}):eq({ownedNfts:o.ownedNfts.map(e=>Object.assign(Object.assign({},eG(e)),{balance:e.balance})),pageKey:o.pageKey,totalCount:o.totalCount,validAt:o.validAt})})}function tn(e){switch(e){case q.ERC721:return[b.ERC721];case q.ERC1155:return[b.ERC1155];default:return[b.ERC721,b.ERC1155,b.SPECIALNFT]}}function ti(e){return void 0!==e.name}function to(e,t){return ed(this,void 0,void 0,function*(){let r=t.transfers.filter(e=>null!==e.rawContract.address).flatMap(e=>{var t,r;let n=(r=e).category!==b.ERC1155?[{contractAddress:r.rawContract.address,tokenId:r.tokenId,tokenType:r.category===b.ERC721?q.ERC721:void 0}]:r.erc1155Metadata.map(e=>({contractAddress:r.rawContract.address,tokenId:e.tokenId,tokenType:q.ERC1155})),i={from:e.from,to:null!==(t=e.to)&&void 0!==t?t:void 0,transactionHash:e.hash,blockNumber:e.blockNum};return n.map(e=>({metadata:i,token:e}))});if(0===r.length)return{nfts:[]};let n=[];for(let e=0;e<r.length;e+=100)n.push(r.slice(e,e+100));let i=yield Promise.all(n.map(t=>tt(e,t.map(e=>e.token)))),o=i.map(e=>e.nfts).flat(),s=new Map;o.forEach(e=>{let t=`${e.contract.address.toLowerCase()}-${ei.O$.from(e.tokenId).toString()}`;s.set(t,e)});let a=r.map(e=>{let t=`${e.token.contractAddress.toLowerCase()}-${ei.O$.from(e.token.tokenId).toString()}`;return Object.assign(Object.assign({},s.get(t)),e.metadata)});return{nfts:a,pageKey:t.pageKey}})}function ts(e){return void 0===e||!e}class ta{constructor(e){this.config=e}getNftMetadata(e,t,r,n){let i;return i="object"==typeof r?{tokenType:r.tokenType,tokenUriTimeoutInMs:r.tokenUriTimeoutInMs,refreshCache:r.refreshCache}:{tokenType:r,tokenUriTimeoutInMs:n},te(this.config,e,t,i)}getNftMetadataBatch(e,t){return tt(this.config,e,t)}getContractMetadata(e){return function(e,t,r="getContractMetadata"){return ed(this,void 0,void 0,function*(){let n=yield e8(e,X.NFT,"getContractMetadata",r,{contractAddress:t});return eU(n)})}(this.config,e)}getContractMetadataBatch(e){return function(e,t){return ed(this,void 0,void 0,function*(){let r=yield e8(e,X.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:t}});return{contracts:r.contracts.map(eU)}})}(this.config,e)}getCollectionMetadata(e){return function(e,t,r="getCollectionMetadata"){return ed(this,void 0,void 0,function*(){let n=yield e8(e,X.NFT,"getCollectionMetadata",r,{collectionSlug:t});return eq(Object.assign(Object.assign({},n),{floorPrice:Object.assign(Object.assign({},n.floorPrice),{marketplace:function(e){if("OpenSea"===e)return Z.OPENSEA}(n.floorPrice.marketplace)})}))})}(this.config,e)}getNftsForOwnerIterator(e,t){return function(e,t,r,n="getNftsForOwnerIterator"){return eu(this,arguments,function*(){var i,o;let s=ts(null==r?void 0:r.omitMetadata);try{for(var a,l=ef(e6(e,X.NFT,"getNFTsForOwner",n,"pageKey","pageKey",{contractAddresses:null==r?void 0:r.contractAddresses,pageKey:null==r?void 0:r.pageKey,excludeFilters:null==r?void 0:r.excludeFilters,includeFilters:null==r?void 0:r.includeFilters,owner:t,withMetadata:s,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs,orderBy:null==r?void 0:r.orderBy}));!(a=yield ec(l.next())).done;){let e=a.value;for(let t of e.ownedNfts)yield yield ec(Object.assign(Object.assign({},ti(t)?eK(t):eG(t)),{balance:t.balance}))}}catch(e){i={error:e}}finally{try{a&&!a.done&&(o=l.return)&&(yield ec(o.call(l)))}finally{if(i)throw i.error}}})}(this.config,e,t)}getNftsForOwner(e,t){return tr(this.config,e,t)}getNftsForContract(e,t){return function(e,t,r,n="getNftsForContract"){var i;return ed(this,void 0,void 0,function*(){let o=ts(null==r?void 0:r.omitMetadata),s=yield e8(e,X.NFT,"getNFTsForContract",n,{contractAddress:t,pageKey:null==r?void 0:r.pageKey,withMetadata:o,limit:null!==(i=null==r?void 0:r.pageSize)&&void 0!==i?i:void 0,tokenUriTimeoutInMs:null==r?void 0:r.tokenUriTimeoutInMs});return o?eq({nfts:s.nfts.map(e=>eK(e)),pageKey:s.pageKey}):eq({nfts:s.nfts.map(e=>eG(e,t)),pageKey:s.pageKey})})}(this.config,e,t)}getNftsForContractIterator(e,t){return function(e,t,r,n="getNftsForContractIterator"){return eu(this,arguments,function*(){var i,o;let s=ts(null==r?void 0:r.omitMetadata);try{for(var a,l=ef(e6(e,X.NFT,"getNFTsForContract",n,"pageKey","pageKey",{contractAddress:t,pageKey:null==r?void 0:r.pageKey,withMetadata:s}));!(a=yield ec(l.next())).done;){let e=a.value;for(let r of e.nfts)yield yield ec(ti(r)?eK(r):eG(r,t))}}catch(e){i={error:e}}finally{try{a&&!a.done&&(o=l.return)&&(yield ec(o.call(l)))}finally{if(i)throw i.error}}})}(this.config,e,t)}getOwnersForContract(e,t){return function(e,t,r,n="getOwnersForContract"){return ed(this,void 0,void 0,function*(){let i=yield e8(e,X.NFT,"getOwnersForContract",n,Object.assign(Object.assign({},r),{contractAddress:t}));return null==r||r.withTokenBalances,eq({owners:i.owners,pageKey:i.pageKey})})}(this.config,e,t)}getOwnersForNft(e,t,r){return function(e,t,r,n,i="getOwnersForNft"){return ed(this,void 0,void 0,function*(){return e8(e,X.NFT,"getOwnersForNFT",i,Object.assign({contractAddress:t,tokenId:ei.O$.from(r).toString()},n))})}(this.config,e,t,r)}getContractsForOwner(e,t){return function(e,t,r,n="getContractsForOwner"){return ed(this,void 0,void 0,function*(){let i=yield e8(e,X.NFT,"getContractsForOwner",n,{owner:t,excludeFilters:null==r?void 0:r.excludeFilters,includeFilters:null==r?void 0:r.includeFilters,pageKey:null==r?void 0:r.pageKey,pageSize:null==r?void 0:r.pageSize,orderBy:null==r?void 0:r.orderBy});return eq({contracts:i.contracts.map(eB),pageKey:i.pageKey,totalCount:i.totalCount})})}(this.config,e,t)}getTransfersForOwner(e,t,r){return function(e,t,r,n){return ed(this,void 0,void 0,function*(){let i=yield e.getProvider(),o=yield i._getAddress(t),s=tn(null==n?void 0:n.tokenType),a={fromBlock:"0x0",excludeZeroValue:!0,contractAddresses:null==n?void 0:n.contractAddresses,category:s,maxCount:100,pageKey:null==n?void 0:n.pageKey};r===S.TO?a.toAddress=o:a.fromAddress=o;let l=yield eH(e,a,"getTransfersForOwner");return to(e,l)})}(this.config,e,t,r)}getTransfersForContract(e,t){return function(e,t,r){return ed(this,void 0,void 0,function*(){let n=[b.ERC721,b.ERC1155,b.SPECIALNFT],i=yield e.getProvider(),o=(null==r?void 0:r.fromBlock)?i.formatter.blockTag((yield i._getBlockTag(r.fromBlock))):"0x0",s=(null==r?void 0:r.toBlock)?i.formatter.blockTag((yield i._getBlockTag(r.toBlock))):void 0,a={fromBlock:o,toBlock:s,excludeZeroValue:!0,contractAddresses:[t],order:null==r?void 0:r.order,category:n,maxCount:100,pageKey:null==r?void 0:r.pageKey},l=yield eH(e,a,"getTransfersForContract");return to(e,l)})}(this.config,e,t)}getMintedNfts(e,t){return ed(this,void 0,void 0,function*(){return function(e,t,r){return ed(this,void 0,void 0,function*(){let n=yield e.getProvider(),i=yield n._getAddress(t),o=tn(null==r?void 0:r.tokenType),s={fromBlock:"0x0",fromAddress:"0x0000000000000000000000000000000000000000",toAddress:i,excludeZeroValue:!0,contractAddresses:null==r?void 0:r.contractAddresses,category:o,maxCount:100,pageKey:null==r?void 0:r.pageKey},a=yield eH(e,s,"getMintedNfts");return to(e,a)})}(this.config,e,t)})}verifyNftOwnership(e,t){return function(e,t,r,n="verifyNftOwnership"){return ed(this,void 0,void 0,function*(){if("string"==typeof r){let i=yield tr(e,t,{contractAddresses:[r],omitMetadata:!0},n);return i.ownedNfts.length>0}{if(0===r.length)throw Error("Must provide at least one contract address");let i=yield tr(e,t,{contractAddresses:r,omitMetadata:!0},n),o=r.reduce((e,t)=>(e[t]=!1,e),{});for(let e of i.ownedNfts)o[e.contractAddress]=!0;return o}})}(this.config,e,t)}isSpamContract(e){return function(e,t,r="isSpamContract"){return ed(this,void 0,void 0,function*(){return e8(e,X.NFT,"isSpamContract",r,{contractAddress:t})})}(this.config,e)}getSpamContracts(){return function(e,t="getSpamContracts"){return ed(this,void 0,void 0,function*(){return e8(e,X.NFT,"getSpamContracts",t,void 0)})}(this.config)}reportSpam(e){return function(e,t,r="reportSpam"){return ed(this,void 0,void 0,function*(){e8(e,X.NFT,"reportSpam",r,{contractAddress:t})})}(this.config,e)}isAirdropNft(e,t){return function(e,t,r,n="isAirdropNft"){return ed(this,void 0,void 0,function*(){return e8(e,X.NFT,"isAirdropNFT",n,{contractAddress:t,tokenId:r})})}(this.config,e,t)}getFloorPrice(e){return function(e,t,r="getFloorPrice"){return ed(this,void 0,void 0,function*(){let n=yield e8(e,X.NFT,"getFloorPrice",r,{contractAddress:t});return eq(n)})}(this.config,e)}getNftSales(e){return function(e,t={},r="getNftSales"){return ed(this,void 0,void 0,function*(){let n=Object.assign({},t),i=yield e8(e,X.NFT,"getNFTSales",r,{fromBlock:null==n?void 0:n.fromBlock,toBlock:null==n?void 0:n.toBlock,order:null==n?void 0:n.order,marketplace:null==n?void 0:n.marketplace,contractAddress:null==n?void 0:n.contractAddress,tokenId:(null==n?void 0:n.tokenId)?ei.O$.from(null==n?void 0:n.tokenId).toString():void 0,sellerAddress:null==n?void 0:n.sellerAddress,buyerAddress:null==n?void 0:n.buyerAddress,taker:null==n?void 0:n.taker,limit:null==n?void 0:n.limit,pageKey:null==n?void 0:n.pageKey});return eq({nftSales:i.nftSales.map(e=>Object.assign(Object.assign({},e),{marketplace:function(e){switch(e){case"looksrare":return V.LOOKSRARE;case"seaport":return V.SEAPORT;case"x2y2":return V.X2Y2;case"wyvern":return V.WYVERN;case"cryptopunks":return V.CRYPTOPUNKS;case"blur":return V.BLUR;default:return V.UNKNOWN}}(e.marketplace),taker:function(e){switch(e.toLowerCase()){case"buyer":return Y.BUYER;case"seller":return Y.SELLER;default:throw Error(`Unsupported NftSaleTakerType ${e}`)}}(e.taker)})),validAt:i.validAt,pageKey:i.pageKey})})}(this.config,e)}computeRarity(e,t){return function(e,t,r,n="computeRarity"){return ed(this,void 0,void 0,function*(){let i=yield e8(e,X.NFT,"computeRarity",n,{contractAddress:t,tokenId:ei.O$.from(r).toString()});return eq(i)})}(this.config,e,t)}searchContractMetadata(e){return function(e,t,r="searchContractMetadata"){return ed(this,void 0,void 0,function*(){let n=yield e8(e,X.NFT,"searchContractMetadata",r,{query:t});return{contracts:n.contracts.map(eU)}})}(this.config,e)}summarizeNftAttributes(e){return function(e,t,r="summarizeNftAttributes"){return ed(this,void 0,void 0,function*(){return e8(e,X.NFT,"summarizeNFTAttributes",r,{contractAddress:t})})}(this.config,e)}refreshNftMetadata(e,t){return function(e,t,r,n="refreshNftMetadata"){return ed(this,void 0,void 0,function*(){let i=ei.O$.from(r).toString(),o=yield te(e,t,i,void 0,n),s=yield function(e,t,r,n){return ed(this,void 0,void 0,function*(){let i=yield e8(e,X.NFT,"getNFTMetadata",n,{contractAddress:t,tokenId:ei.O$.from(r).toString(),refreshCache:!0});return eK(i)})}(e,t,i,n);return o.timeLastUpdated!==s.timeLastUpdated})}(this.config,e,t)}refreshContract(e){return function(e,t,r="refreshContract"){return ed(this,void 0,void 0,function*(){let n=yield e8(e,X.NFT,"reingestContract",r,{contractAddress:t});return{contractAddress:n.contractAddress,refreshState:function(e){switch(e){case"does_not_exist":return Q.DOES_NOT_EXIST;case"already_queued":return Q.ALREADY_QUEUED;case"in_progress":return Q.IN_PROGRESS;case"finished":return Q.FINISHED;case"queued":return Q.QUEUED;case"queue_failed":return Q.QUEUE_FAILED;default:throw Error("Unknown reingestion state: "+e)}}(n.reingestionState),progress:n.progress}})}(this.config,e)}}class tl{constructor(e){this.config=e}getAllWebhooks(){return ed(this,void 0,void 0,function*(){this.verifyConfig();let e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:e.data.map(tu),totalCount:e.data.length}})}getAddresses(e,t){return ed(this,void 0,void 0,function*(){this.verifyConfig();let r="string"==typeof e?e:e.id,n=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:r,limit:null==t?void 0:t.limit,after:null==t?void 0:t.pageKey});return{addresses:n.data,totalCount:n.pagination.total_count,pageKey:n.pagination.cursors.after}})}getGraphqlQuery(e){return ed(this,void 0,void 0,function*(){this.verifyConfig();let t="string"==typeof e?e:e.id,r=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:t});return{graphqlQuery:r.data.graphql_query}})}getNftFilters(e,t){return ed(this,void 0,void 0,function*(){this.verifyConfig();let r="string"==typeof e?e:e.id,n=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:r,limit:null==t?void 0:t.limit,after:null==t?void 0:t.pageKey});return{filters:n.data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:ei.O$.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:n.pagination.total_count,pageKey:n.pagination.cursors.after}})}updateWebhook(e,t){return ed(this,void 0,void 0,function*(){let r,n,i,o;let s="string"==typeof e?e:e.id;if("isActive"in t)r="update-webhook",n="updateWebhook",i="PUT",o={webhook_id:s,is_active:t.isActive};else if("addFilters"in t||"removeFilters"in t)r="update-webhook-nft-filters",n="updateWebhookNftFilters",i="PATCH",o={webhook_id:s,nft_filters_to_add:t.addFilters?t.addFilters.map(tf):[],nft_filters_to_remove:t.removeFilters?t.removeFilters.map(tf):[]};else if("addMetadataFilters"in t||"removeMetadataFilters"in t)r="update-webhook-nft-metadata-filters",n="updateWebhookNftMetadataFilters",i="PATCH",o={webhook_id:s,nft_metadata_filters_to_add:t.addMetadataFilters?t.addMetadataFilters.map(tf):[],nft_metadata_filters_to_remove:t.removeMetadataFilters?t.removeMetadataFilters.map(tf):[]};else if("addAddresses"in t||"removeAddresses"in t)r="update-webhook-addresses",n="webhook:updateWebhookAddresses",i="PATCH",o={webhook_id:s,addresses_to_add:yield this.resolveAddresses(t.addAddresses),addresses_to_remove:yield this.resolveAddresses(t.removeAddresses)};else if("newAddresses"in t)r="update-webhook-addresses",n="webhook:updateWebhookAddress",i="PUT",o={webhook_id:s,addresses:yield this.resolveAddresses(t.newAddresses)};else throw Error("Invalid `update` param passed into `updateWebhook`");yield this.sendWebhookRequest(r,n,{},{method:i,data:o})})}createWebhook(e,t,r){return ed(this,void 0,void 0,function*(){let n,i,o,s;if(t===j.MINED_TRANSACTION||t===j.DROPPED_TRANSACTION){if(!("appId"in r))throw Error("Transaction Webhooks require an app id.");n=r.appId}let a=tc.get(this.config.network);if(t===j.NFT_ACTIVITY||t===j.NFT_METADATA_UPDATE){if(!("filters"in r)||0===r.filters.length)throw Error("Nft Activity Webhooks require a non-empty array input.");a=r.network?tc.get(r.network):a;let e=r.filters.map(e=>e.tokenId?{contract_address:e.contractAddress,token_id:ei.O$.from(e.tokenId).toString()}:{contract_address:e.contractAddress});i=t===j.NFT_ACTIVITY?{nft_filters:e}:{nft_metadata_filters:e}}else if(t===j.ADDRESS_ACTIVITY){if(void 0===r||!("addresses"in r)||0===r.addresses.length)throw Error("Address Activity Webhooks require a non-empty array input.");a=r.network?tc.get(r.network):a,o=yield this.resolveAddresses(r.addresses)}else if(t==j.GRAPHQL){if(void 0===r||!("graphqlQuery"in r)||0===r.graphqlQuery.length)throw Error("Custom Webhooks require a non-empty graphql query.");a=r.network?tc.get(r.network):a,s=r.graphqlQuery}let l=Object.assign(Object.assign(Object.assign(Object.assign({network:a,webhook_type:t,webhook_url:e},n&&{app_id:n}),i),o&&{addresses:o}),s&&{graphql_query:s}),d=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:l});return tu(d.data)})}deleteWebhook(e){return ed(this,void 0,void 0,function*(){this.verifyConfig();let t="string"==typeof e?e:e.id,r=yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:t},{method:"DELETE"});if("message"in r)throw Error(`Webhook not found. Failed to delete webhook: ${t}`)})}verifyConfig(){if(void 0===this.config.authToken)throw Error("Using the Notify API requires setting the Alchemy Auth Token in the settings object when initializing Alchemy.")}sendWebhookRequest(e,t,r,n){return e8(this.config,X.WEBHOOK,e,t,r,Object.assign(Object.assign({},n),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},null==n?void 0:n.headers)}))}resolveAddresses(e){return ed(this,void 0,void 0,function*(){if(void 0===e)return[];let t=[],r=yield this.config.getProvider();for(let n of e){let e=yield r.resolveName(n);if(null===e)throw Error(`Unable to resolve the ENS address: ${n}`);t.push(e)}return t})}}let td={ETH_MAINNET:P.ETH_MAINNET,ETH_GOERLI:P.ETH_GOERLI,ETH_SEPOLIA:P.ETH_SEPOLIA,MATIC_MAINNET:P.MATIC_MAINNET,MATIC_MUMBAI:P.MATIC_MUMBAI,MATIC_AMOY:P.MATIC_AMOY,ARB_MAINNET:P.ARB_MAINNET,ARB_GOERLI:P.ARB_GOERLI,ARB_SEPOLIA:P.ARB_SEPOLIA,OPT_MAINNET:P.OPT_MAINNET,OPT_GOERLI:P.OPT_GOERLI,OPT_SEPOLIA:P.OPT_SEPOLIA,BASE_MAINNET:P.BASE_MAINNET,BASE_GOERLI:P.BASE_GOERLI,BASE_SEPOLIA:P.BASE_SEPOLIA,ZKSYNC_MAINNET:P.ZKSYNC_MAINNET,ZKSYNC_SEPOLIA:P.ZKSYNC_SEPOLIA},tc=Object.keys(P).reduce((e,t)=>(t in td&&e.set(td[t],t),e),new Map);function tu(e){return Object.assign({id:e.id,network:td[e.network],type:e.webhook_type,url:e.webhook_url,isActive:e.is_active,timeCreated:new Date(e.time_created).toISOString(),signingKey:e.signing_key,version:e.version},void 0!==e.app_id&&{appId:e.app_id})}function tf(e){return e.tokenId?{contract_address:e.contractAddress,token_id:ei.O$.from(e.tokenId).toString()}:{contract_address:e.contractAddress}}let th=[.9,1,1.1,1.2,1.3];class tg{constructor(e){this.config=e}sendPrivateTransaction(e,t,r){return ed(this,void 0,void 0,function*(){let n=yield this.config.getProvider(),i=t?eM(t):void 0;return n._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:i,preferences:r}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=yield r._send("alchemy_simulateAssetChangesBundle",void 0!==t?[e,t]:[e],"simulateAssetChangesBundle");return eq(n)})}simulateAssetChanges(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=yield r._send("alchemy_simulateAssetChanges",void 0!==t?[e,t]:[e],"simulateAssetChanges");return eq(n)})}simulateExecutionBundle(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=r._send("alchemy_simulateExecutionBundle",void 0!==t?[e,t]:[e],"simulateExecutionBundle");return eq(n)})}simulateExecution(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider(),n=r._send("alchemy_simulateExecution",void 0!==t?[e,t]:[e],"simulateExecution");return eq(n)})}getTransaction(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.getTransaction(e)})}sendTransaction(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.sendTransaction(e)})}estimateGas(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t.estimateGas(e)})}getMaxPriorityFeePerGas(){return ed(this,void 0,void 0,function*(){let e=yield this.config.getProvider(),t=yield e._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return ew(t)})}waitForTransaction(e,t,r){return ed(this,void 0,void 0,function*(){let n=yield this.config.getProvider();return n.waitForTransaction(e,t,r)})}sendGasOptimizedTransaction(e,t){return ed(this,void 0,void 0,function*(){var r,n,i;let o,s,a;if(Array.isArray(e))return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned");let l=yield this.config.getProvider();try{o=yield this.estimateGas(e),s=yield this.getMaxPriorityFeePerGas();let t=yield l.getBlock("latest");a=t.baseFeePerGas.toNumber()}catch(e){throw Error(`Failed to estimate gas for transaction: ${e}`)}let d=(r=o.toNumber(),n=a,i=s,th.map(t=>Object.assign(Object.assign({},e),{gasLimit:r,maxFeePerGas:Math.round(n*t+i*t),maxPriorityFeePerGas:Math.round(t*i)}))),c=yield Promise.all(d.map(e=>t.signTransaction(e)));return this._sendGasOptimizedTransaction(c,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider();return t._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getProvider();return r._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],t)})}}let tv="alchemy-pending-transactions",tE="alchemy-mined-transactions",ty=[tv,tE];class Event{constructor(e,t,r){this.listener=t,this.tag=e,this.once=r,this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");if("tx"!==e[0])throw Error("Not a transaction event");return e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])throw Error("Not a transaction event");let r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||["block","network","pending","poll"].indexOf(this.tag)>=0}}class tm extends Event{get fromAddress(){let e=this.tag.split(":");return e[0]!==tv?void 0:e[1]&&"*"!==e[1]?tO(e[1]):void 0}get toAddress(){let e=this.tag.split(":");return e[0]!==tv?void 0:e[2]&&"*"!==e[2]?tO(e[2]):void 0}get hashesOnly(){let e=this.tag.split(":");return ty.includes(e[0])&&e[3]&&"*"!==e[3]?"true"===e[3]:void 0}get includeRemoved(){let e=this.tag.split(":");return e[0]!==tE?void 0:e[2]&&"*"!==e[2]?"true"===e[2]:void 0}get addresses(){let e=this.tag.split(":");return e[0]!==tE?void 0:e[1]&&"*"!==e[1]?function(e){if(""!==e)return e.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},"*"!==e[0]&&{to:e[0]}),"*"!==e[1]&&{from:e[1]}))}(e[1]):void 0}}function tA(e){return"object"==typeof e&&"method"in e}function tT(e){if(!tA(e))throw Error("Event tag requires AlchemyEventType");if(e.method===F.PENDING_TRANSACTIONS)return function(e){let t=tp(e.fromAddress),r=tp(e.toAddress),n=t_(e.hashesOnly);return tv+":"+t+":"+r+":"+n}(e);if(e.method===F.MINED_TRANSACTIONS)return function(e){var t;let r=void 0===(t=e.addresses)?"*":t.map(e=>tp(e.to)+","+tp(e.from)).join("|"),n=t_(e.includeRemoved),i=t_(e.hashesOnly);return tE+":"+r+":"+n+":"+i}(e);throw Error(`Unrecognized AlchemyFilterEvent: ${e}`)}function tN(e){if(!Object.values(F).includes(e.method))throw Error(`Invalid method name ${e.method}. Accepted method names: ${Object.values(F)}`)}function tp(e){return void 0===e?"*":Array.isArray(e)?e.join("|"):e}function t_(e){return void 0===e?"*":e.toString()}function tO(e){if(""===e)return;let t=e.split("|");return 1===t.length?t[0]:t}class tI{constructor(e){this.config=e}on(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getWebSocketProvider(),n=yield this._resolveEnsAlchemyEvent(e);r.on(n,t)}),this}once(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getWebSocketProvider(),n=yield this._resolveEnsAlchemyEvent(e);r.once(n,t)}),this}off(e,t){return ed(this,void 0,void 0,function*(){let r=yield this.config.getWebSocketProvider(),n=yield this._resolveEnsAlchemyEvent(e);return r.off(n,t)}),this}removeAllListeners(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;t.removeAllListeners(r)}),this}listenerCount(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return t.listenerCount(r)})}listeners(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getWebSocketProvider(),r=e?yield this._resolveEnsAlchemyEvent(e):void 0;return t.listeners(r)})}_resolveEnsAlchemyEvent(e){return ed(this,void 0,void 0,function*(){if(!tA(e))return e;if(e.method===F.MINED_TRANSACTIONS&&e.addresses){let t=[];for(let r of e.addresses)r.to&&(r.to=yield this._resolveNameOrError(r.to)),r.from&&(r.from=yield this._resolveNameOrError(r.from)),t.push(r);e.addresses=t}else e.method===F.PENDING_TRANSACTIONS&&(e.fromAddress&&("string"==typeof e.fromAddress?e.fromAddress=yield this._resolveNameOrError(e.fromAddress):e.fromAddress=yield Promise.all(e.fromAddress.map(e=>this._resolveNameOrError(e)))),e.toAddress&&("string"==typeof e.toAddress?e.toAddress=yield this._resolveNameOrError(e.toAddress):e.toAddress=yield Promise.all(e.toAddress.map(e=>this._resolveNameOrError(e)))));return e})}_resolveNameOrError(e){return ed(this,void 0,void 0,function*(){let t=yield this.config.getProvider(),r=yield t.resolveName(e);if(null===r)throw Error(`Unable to resolve the ENS address: ${e}`);return r})}}class tR{constructor(e){this.config=new eT(e),this.core=new e$(this.config),this.nft=new ta(this.config),this.ws=new tI(this.config),this.transact=new tg(this.config),this.notify=new tl(this.config),this.debug=new eV(this.config)}}class tk extends ea.w5{constructor(e,t){let r;t&&es.zt.isProvider(t)&&(r=t),super(e,r),t&&!es.zt.isProvider(t)&&(this.alchemyProviderPromise=t.config.getProvider())}getBalance(e){return this.getWallet().then(t=>t.getBalance(e))}getTransactionCount(e){return this.getWallet().then(t=>t.getTransactionCount(e))}estimateGas(e){return this.getWallet().then(t=>t.estimateGas(e))}call(e,t){return this.getWallet().then(r=>r.call(e,t))}populateTransaction(e){return this.getWallet().then(t=>t.populateTransaction(e))}sendTransaction(e){return this.getWallet().then(t=>t.sendTransaction(e))}getChainId(){return this.getWallet().then(e=>e.getChainId())}getGasPrice(){return this.getWallet().then(e=>e.getGasPrice())}getFeeData(){return this.getWallet().then(e=>e.getFeeData())}resolveName(e){return this.getWallet().then(t=>t.resolveName(e))}getWallet(){return ed(this,void 0,void 0,function*(){return this.alchemyProviderPromise?this.connect((yield this.alchemyProviderPromise)):this.connect(this.provider)})}}class tP extends el.CH{}class tC extends el.lV{}}}]);